<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeKeep - Welcome</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.2/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://kit.fontawesome.com/7c7dc82fdb.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                navy: '#082032',
                smoke: '#2C394B',
                dark_smoke: '#282e38',
                light_smoke: '#3f4959',
                teal: '#334756',
                orange: '#FF4C29',
                light_orange: '#d2691e',
                grey: '#a5adbb'
              }
            }
          }
        }
      </script>
</head>

<body class="bg-navy h-screen">
  <!--navbar -->
  <div class="navbar bg-navy">
    <div class="navbar-start">
      <a href="welcome-screen.html" target="_self" class="btn btn-ghost text-3xl bg-gradient-to-r from-orange to-grey text-transparent bg-clip-text hover:bg-gradient-to-r hover:from-grey hover:to-orange hover:text-transparent hover:bg-clip-text">HomeKeep</a>
    </div>
    <div class="navbar-end">
      <div class="dropdown relative">
        <button class="btn btn-ghost" tabindex="0">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
        <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-dark_smoke rounded-box w-52 right-0">
            <li><a href="#" class="label-text-alt no-underline link text-base mt-2" id="createAccountLink"><i class="fa-solid fa-user-plus"></i>Create an account</a></li>
            <li><a href="#" id="helpLink" class="label-text-alt no-underline link text-base mt-2"><i class="fa-solid fa-question mr-2"></i>Help</a></li>
        </ul>
      </div>
    </div>
  </div>

      <div class="hero min-h-screen bg-navy">
        <div class="hero-content flex-col lg:flex-row-reverse">
          <div class="text-center lg:text-left">
            <h1 class="inline text-5xl font-bold pl-2">Welcome to</h1>
            <h1 class="inline text-5xl font-bold pl-2 bg-gradient-to-r from-orange to-grey text-transparent bg-clip-text hover:bg-gradient-to-r hover:from-grey hover:to-orange hover:text-transparent hover:bg-clip-text">HomeKeep</h1>
            <p class="py-6 pl-2">Get ready to simplify your life and ensure your home is always in tip-top condition</p>
          </div>
          <div class="card shrink-0 w-full max-w-sm shadow-2xl bg-smoke">
            <div class="card-body">
                <h1 class="text-center p-2 text-2xl mb-5 font-light text-grey border-b border-light_smoke">Sign In</h1>
                <div class="form-control">
                    <input id="email" type="email" placeholder="email" class="input input-bordered bg-teal" required />
                  </div>
                  <div class="form-control">
                    <input id="password" type="password" placeholder="password" class="input input-bordered bg-teal" required />
                  </div>
              <!-- <div class="form-control">
                <label class="label">
                  <span class="label-text">Email</span>
                </label>
                <input type="email" placeholder="email" class="input input-bordered bg-teal" required />
              </div>
              <div class="form-control">
                <label class="label">
                  <span class="label-text">Password</span>
                </label>
                <input type="password" placeholder="password" class="input input-bordered bg-teal" required />
              </div>
                <div>
                  <a href="#" class="label-text-alt no-underline link text-md label-text-alt no-underline link text-md hover:bg-gradient-to-r hover:from-grey hover:to-orange hover:text-transparent hover:bg-clip-text" onclick="showCreateAccountModal(); return false;">Create an account</a>
                </div> -->
                <div class="flex justify-center mx-auto w-2/5 py-1 text-center mt-1">
                    <button id="loginEmailPassword" class="mr-2 btn text-orange font-semibold bg-smoke border-orange hover:border-grey hover:bg-smoke hover:text-grey w-full">Sign In</button>
                    <button id="login0" class="ml-2 btn text-white font-semibold bg-smoke border-white hover:border-grey hover:bg-smoke hover:text-grey w-full">Sign in with Google</button>
                  </div>
            </div>
          </div>
        </div>
      </div>

      <!-- DaisyUI create account Modal -->
<dialog id="createAccountModal" class="modal">
  <div class="modal-box bg-dark_smoke p-1 rounded-md">
      <button class="btn btn-sm btn-circle btn-ghost absolute top-2 right-2">✕</button>
      <div class="w-full max-w-lg bg-dark_smoke p-1 rounded-md">
          <form id="signupForm" class="card-body">
              <h1 class="text-left p-2 text-2xl mb-5 font-light text-grey border-b border-light_smoke">Create an Account</h1>
              <!-- Form Input Fields -->
              <div class="form-control">
                  <input id="firstName" type="text" placeholder="First Name" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <div class="form-control">
                  <input id="lastName" type="text" placeholder="Last Name" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <div class="form-control">
                  <input id="signupEmail" type="email" placeholder="Email Address" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <div class="form-control">
                  <input id="signupPassword" type="password" placeholder="Password" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <!-- Buttons -->
              <div class="mx-auto w-1/2 py-1 text-center mt-2">
                  <button type="submit" class="btn text-grey font-semibold bg-dark_smoke border-grey hover:border-orange hover:bg-dark_smoke hover:text-orange w-full">Create Account</button>
              </div>
          </form>
      </div>
  </div>
</dialog>

<!-- DaisyUI help request modal -->
<dialog id="helpRequestModal" class="modal">
  <div class="modal-box bg-dark_smoke p-1 rounded-lg">
      <button class="btn btn-sm btn-circle btn-ghost absolute top-2 right-2" onclick="document.getElementById('helpRequestModal').close()">✕</button>
      <div class="w-full max-w-lg bg-dark_smoke rounded-md">
          <div class="w-full max-w-lg bg-dark_smoke rounded-md">
            <form class="card-body">
              <h1 class="text-left p-2 text-2xl mb-5 font-light text-grey border-b border-light_smoke">Help Request</h1>
              <div class="form-control">
                <input type="text" placeholder="first name" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <div class="form-control">
                <input type="text" placeholder="last name" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <div class="form-control">
                <input type="email" placeholder="email" class="input input-bordered bg-grey text-dark_smoke placeholder-dark_smoke" required />
              </div>
              <div class="form-control">
                <textarea class="text-base w-full textarea textarea-bordered gap-2 mb-2 bg-grey text-dark_smoke placeholder-dark_smoke" placeholder="message"></textarea>
              </div>
              <div class="mx-auto w-1/2 py-1 text-center mt-2">
                <button class="btn text-grey font-semibold bg-dark_smoke border-grey hover:border-orange hover:bg-dark_smoke hover:text-orange w-full">Submit</button>
              </div>
            </form>
          </div>
        </div>
  </div>
</dialog>

    <footer class="fixed bottom-0 left-0 z-20 w-full p-4 bg-white border-t border-gray-200 shadow md:flex md:items-center md:justify-between md:p-6 dark:bg-navy dark:border-navy">
        <span class="text-sm text-terracotta sm:text-center">© 2024 <a href="https://flowbite.com/" class="hover:underline">HomeKeep™</a>. All Rights Reserved.
        </span>
        <ul class="flex flex-wrap items-center mt-3 text-sm font-medium sm:mt-0">
          <li>
            <a id="helpFooterLink" href="#" class="label-text-alt no-underline link text-md hover:bg-gradient-to-r hover:from-grey hover:to-orange hover:text-transparent hover:bg-clip-text">Help</a>
        </li>
        </ul>
    </footer>
  

  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCrQCy3XJHfkusqmoXafsCqjAcZJWInx7s",
      authDomain: "homekeep-x.firebaseapp.com",
      projectId: "homekeep-x",
      storageBucket: "homekeep-x.appspot.com",
      messagingSenderId: "142689184811",
      appId: "1:142689184811:web:61e53ac8ec053c68bc0e6e"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    function signInWithGoogle() {
      console.log(auth)
        var provider = new GoogleAuthProvider();
        signInWithPopup(auth, provider)
            .then((result) => {
                // Signed in successfully, get user details
                var user = result.user;
                console.log("Signed in user:", user);
                // Redirect to dashboard.html after successful authentication
                window.location.href = "dashboard-fb.html";
            })
            .catch((error) => {
                // Handle errors
                console.error("Google sign-in error:", error);
            });
    }
    document.addEventListener("DOMContentLoaded", function() {
    // Sign-in event listener
    document.getElementById("loginEmailPassword").addEventListener("click", function(event) {
        event.preventDefault(); // Prevent default form submission
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in
                const user = userCredential.user;
                console.log("Signed in user:", user);
                window.location.href = "dashboard-fb.html";
            })
            .catch((error) => {
                // Handle errors
                console.error("Error:", error);
                // Display error message using alert
                alert("Incorrect email or password. Please try again.");
            });
    });

    // Sign-up event listener (if needed)
    const signupForm = document.getElementById("signupForm");
    if (signupForm) {
        signupForm.addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent default form submission
            const firstName = document.getElementById("firstName").value;
            const lastName = document.getElementById("lastName").value;
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;
            
            createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed up successfully
                const user = userCredential.user;
                console.log("User created:", user);
                // Optionally, you can redirect to another page
                // window.location.href = "dashboard.html";
                // Close the modal
                closeCreateAccountModal();
            })
            .catch((error) => {
                // Handle errors
                console.error("Error creating user:", error);
                // Display an alert with the error message
                alert(error.message);
            });
        });
    }
    });
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("login0").addEventListener("click", signInWithGoogle);
    });

    function showCreateAccountModal() {
      var createAccountModal = document.getElementById('createAccountModal');
      createAccountModal.showModal();
     }

     function closeCreateAccountModal() {
      var createAccountModal = document.getElementById('createAccountModal');
      createAccountModal.close();
}

    document.addEventListener("DOMContentLoaded", function() {
    // Find the link element by its ID
    var createAccountLink = document.getElementById("createAccountLink");

    // Add an event listener to the link element
    createAccountLink.addEventListener("click", function(event) {
        // Prevent default link behavior
        event.preventDefault();
        
        // Call the function to show the create account modal
        showCreateAccountModal();
    });
});

    // Function to show the help request modal
    function showHelpModal() {
    var helpRequestModal = document.getElementById('helpRequestModal');
    if (helpRequestModal) {
        helpRequestModal.showModal();
    }
}
    // Add event listener to the Help link in the navbar
    document.addEventListener('DOMContentLoaded', function() {
    var helpLink = document.getElementById('helpLink');
    if (helpLink) {
        helpLink.addEventListener('click', function(event) {
            event.preventDefault(); // Prevent default link behavior
            showHelpModal();
        });
    }
});

// Add event listener to the Help link in the footer
document.addEventListener('DOMContentLoaded', function() {
    var helpFooterLink = document.getElementById('helpFooterLink');
    if (helpFooterLink) {
        helpFooterLink.addEventListener('click', function(event) {
            event.preventDefault(); // Prevent default link behavior
            showHelpModal();
        });
    }
});

// Add event listener to the close button of the create account modal
document.addEventListener("DOMContentLoaded", function() {
    var closeButton = document.querySelector('#createAccountModal button.btn-ghost');
    if (closeButton) {
        closeButton.addEventListener('click', function() {
            closeCreateAccountModal();
        });
    }
});

  </script>   
</body>
</html>